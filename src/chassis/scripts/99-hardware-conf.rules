# udev rules for gpio port access through libgpiod
SUBSYSTEM=="tty", KERNEL=="ttyS*", MODE:="0666"
KERNEL=="ttyUSB*", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", MODE:="0666", SYMLINK+="sbus"
KERNEL=="ttyUSB*", ATTRS{idVendor}=="10c4", ATTRS{idProduct}=="ea60", MODE:="0666", SYMLINK+="cp2102"
KERNEL=="ttyUSB*", ATTRS{idVendor}=="1a86", ATTRS{idProduct}=="7523", MODE:="0666", SYMLINK+="ch340"
SUBSYSTEM=="video4linux", KERNEL=="video*",  ACTION=="add", MODE:="0666"
SUBSYSTEM=="i2c-dev", KERNEL=="i2c-*", ACTION=="add", MODE:="0666"
SUBSYSTEM=="input", KERNEL=="event*",  ACTION=="add", MODE:="0666"
SUBSYSTEM=="leds", KERNEL=="moto*", RUN+="/usr/bin/chmod 0666 /sys%p/brightness"
SUBSYSTEM=="pwm", KERNEL=="pwmchip[0-9]", ACTION=="add", RUN+="/usr/bin/chmod 0666 /sys%p/export", RUN+="/usr/bin/chmod 0666 /sys%p/unexport"
SUBSYSTEM=="pwm", KERNEL=="pwmchip[0-9]", ACTION=="change", RUN+="/bin/bash -c '/usr/bin/chmod 0666 /sys/class/pwm/%k/pwm*/*'"
SUBSYSTEM=="gpio", KERNEL=="gpiochip*", RUN+="/usr/bin/chmod 0666 /sys%p/export", RUN+="/usr/bin/chmod 0666 /sys%p/unexport"
SUBSYSTEM=="backlight", KERNEL=="backlight*", ATTR{bl_power}="0", RUN+="/usr/bin/chmod 0666 /sys%p/brightness"
SUBSYSTEM=="hidraw", KERNEL=="hidraw*", ACTION=="add", MODE:="0666"